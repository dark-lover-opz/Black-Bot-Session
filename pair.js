document.write('<link rel="stylesheet" href="https://github.githubassets.com/assets/gist-embed-59543e005c9c.css">')
document.write('<div id=\"gist140675199\" class=\"gist\">\n    <div class=\"gist-file\" translate=\"no\" data-color-mode=\"light\" data-light-theme=\"light\">\n      <div class=\"gist-data\">\n        <div class=\"js-gist-file-update-container js-task-list-container\">\n  <div id=\"file-gistfile1-txt\" class=\"file my-2\">\n    \n    <div itemprop=\"text\"\n      class=\"Box-body p-0 blob-wrapper data type-text  \"\n      style=\"overflow: auto\" tabindex=\"0\" role=\"region\"\n      aria-label=\"gistfile1.txt content, created by dark-lover-opz on 09:34PM today.\"\n    >\n\n        \n<div class=\"js-check-hidden-unicode js-blob-code-container blob-code-content\">\n\n  <template class=\"js-file-alert-template\">\n  <div data-view-component=\"true\" class=\"flash flash-warn flash-full d-flex flex-items-center\">\n  <svg aria-hidden=\"true\" height=\"16\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" data-view-component=\"true\" class=\"octicon octicon-alert\">\n    <path d=\"M6.457 1.047c.659-1.234 2.427-1.234 3.086 0l6.082 11.378A1.75 1.75 0 0 1 14.082 15H1.918a1.75 1.75 0 0 1-1.543-2.575Zm1.763.707a.25.25 0 0 0-.44 0L1.698 13.132a.25.25 0 0 0 .22.368h12.164a.25.25 0 0 0 .22-.368Zm.53 3.996v2.5a.75.75 0 0 1-1.5 0v-2.5a.75.75 0 0 1 1.5 0ZM9 11a1 1 0 1 1-2 0 1 1 0 0 1 2 0Z\"><\/path>\n<\/svg>\n    <span>\n      This file contains hidden or bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.\n      <a class=\"Link--inTextBlock\" href=\"https://github.co/hiddenchars\" target=\"_blank\">Learn more about bidirectional Unicode characters<\/a>\n    <\/span>\n\n\n  <div data-view-component=\"true\" class=\"flash-action\">        <a href=\"{{ revealButtonHref }}\" data-view-component=\"true\" class=\"btn-sm btn\">    Show hidden characters\n<\/a>\n<\/div>\n<\/div><\/template>\n<template class=\"js-line-alert-template\">\n  <span aria-label=\"This line has hidden Unicode characters\" data-view-component=\"true\" class=\"line-alert tooltipped tooltipped-e\">\n    <svg aria-hidden=\"true\" height=\"16\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" data-view-component=\"true\" class=\"octicon octicon-alert\">\n    <path d=\"M6.457 1.047c.659-1.234 2.427-1.234 3.086 0l6.082 11.378A1.75 1.75 0 0 1 14.082 15H1.918a1.75 1.75 0 0 1-1.543-2.575Zm1.763.707a.25.25 0 0 0-.44 0L1.698 13.132a.25.25 0 0 0 .22.368h12.164a.25.25 0 0 0 .22-.368Zm.53 3.996v2.5a.75.75 0 0 1-1.5 0v-2.5a.75.75 0 0 1 1.5 0ZM9 11a1 1 0 1 1-2 0 1 1 0 0 1 2 0Z\"><\/path>\n<\/svg>\n<\/span><\/template>\n\n  <table data-hpc class=\"highlight tab-size js-file-line-container\" data-tab-size=\"4\" data-paste-markdown-skip data-tagsearch-path=\"gistfile1.txt\">\n        <tr>\n          <td id=\"file-gistfile1-txt-L1\" class=\"blob-num js-line-number js-blob-rnum\" data-line-number=\"1\"><\/td>\n          <td id=\"file-gistfile1-txt-LC1\" class=\"blob-code blob-code-inner js-file-line\">import express from &#39;express&#39;;<\/td>\n        <\/tr>\n        <tr>\n          <td id=\"file-gistfile1-txt-L2\" class=\"blob-num js-line-number js-blob-rnum\" data-line-number=\"2\"><\/td>\n          <td id=\"file-gistfile1-txt-LC2\" class=\"blob-code blob-code-inner js-file-line\">import fs from &#39;fs&#39;;<\/td>\n        <\/tr>\n        <tr>\n          <td id=\"file-gistfile1-txt-L3\" class=\"blob-num js-line-number js-blob-rnum\" data-line-number=\"3\"><\/td>\n          <td id=\"file-gistfile1-txt-LC3\" class=\"blob-code blob-code-inner js-file-line\">import pino from &#39;pino&#39;;<\/td>\n        <\/tr>\n        <tr>\n          <td id=\"file-gistfile1-txt-L4\" class=\"blob-num js-line-number js-blob-rnum\" data-line-number=\"4\"><\/td>\n          <td id=\"file-gistfile1-txt-LC4\" class=\"blob-code blob-code-inner js-file-line\">import fetch from &#39;node-fetch&#39;; // New import<\/td>\n        <\/tr>\n        <tr>\n          <td id=\"file-gistfile1-txt-L5\" class=\"blob-num js-line-number js-blob-rnum\" data-line-number=\"5\"><\/td>\n          <td id=\"file-gistfile1-txt-LC5\" class=\"blob-code blob-code-inner js-file-line\">import { makeWASocket, useMultiFileAuthState, delay, makeCacheableSignalKeyStore, Browsers, jidNormalizedUser, fetchLatestBaileysVersion } from &#39;@whiskeysockets/baileys&#39;;<\/td>\n        <\/tr>\n        <tr>\n          <td id=\"file-gistfile1-txt-L6\" class=\"blob-num js-line-number js-blob-rnum\" data-line-number=\"6\"><\/td>\n          <td id=\"file-gistfile1-txt-LC6\" class=\"blob-code blob-code-inner js-file-line\">import pn from &#39;awesome-phonenumber&#39;;<\/td>\n        <\/tr>\n        <tr>\n          <td id=\"file-gistfile1-txt-L7\" class=\"blob-num js-line-number js-blob-rnum\" data-line-number=\"7\"><\/td>\n          <td id=\"file-gistfile1-txt-LC7\" class=\"blob-code blob-code-inner js-file-line\">\n<\/td>\n        <\/tr>\n        <tr>\n          <td id=\"file-gistfile1-txt-L8\" class=\"blob-num js-line-number js-blob-rnum\" data-line-number=\"8\"><\/td>\n          <td id=\"file-gistfile1-txt-LC8\" class=\"blob-code blob-code-inner js-file-line\">const router = express.Router();<\/td>\n        <\/tr>\n        <tr>\n          <td id=\"file-gistfile1-txt-L9\" class=\"blob-num js-line-number js-blob-rnum\" data-line-number=\"9\"><\/td>\n          <td id=\"file-gistfile1-txt-LC9\" class=\"blob-code blob-code-inner js-file-line\">\n<\/td>\n        <\/tr>\n        <tr>\n          <td id=\"file-gistfile1-txt-L10\" class=\"blob-num js-line-number js-blob-rnum\" data-line-number=\"10\"><\/td>\n          <td id=\"file-gistfile1-txt-LC10\" class=\"blob-code blob-code-inner js-file-line\">// Ensure the session directory exists<\/td>\n        <\/tr>\n        <tr>\n          <td id=\"file-gistfile1-txt-L11\" class=\"blob-num js-line-number js-blob-rnum\" data-line-number=\"11\"><\/td>\n          <td id=\"file-gistfile1-txt-LC11\" class=\"blob-code blob-code-inner js-file-line\">function removeFile(FilePath) {<\/td>\n        <\/tr>\n        <tr>\n          <td id=\"file-gistfile1-txt-L12\" class=\"blob-num js-line-number js-blob-rnum\" data-line-number=\"12\"><\/td>\n          <td id=\"file-gistfile1-txt-LC12\" class=\"blob-code blob-code-inner js-file-line\">    try {<\/td>\n        <\/tr>\n        <tr>\n          <td id=\"file-gistfile1-txt-L13\" class=\"blob-num js-line-number js-blob-rnum\" data-line-number=\"13\"><\/td>\n          <td id=\"file-gistfile1-txt-LC13\" class=\"blob-code blob-code-inner js-file-line\">        if (!fs.existsSync(FilePath)) return false;<\/td>\n        <\/tr>\n        <tr>\n          <td id=\"file-gistfile1-txt-L14\" class=\"blob-num js-line-number js-blob-rnum\" data-line-number=\"14\"><\/td>\n          <td id=\"file-gistfile1-txt-LC14\" class=\"blob-code blob-code-inner js-file-line\">        fs.rmSync(FilePath, { recursive: true, force: true });<\/td>\n        <\/tr>\n        <tr>\n          <td id=\"file-gistfile1-txt-L15\" class=\"blob-num js-line-number js-blob-rnum\" data-line-number=\"15\"><\/td>\n          <td id=\"file-gistfile1-txt-LC15\" class=\"blob-code blob-code-inner js-file-line\">    } catch (e) {<\/td>\n        <\/tr>\n        <tr>\n          <td id=\"file-gistfile1-txt-L16\" class=\"blob-num js-line-number js-blob-rnum\" data-line-number=\"16\"><\/td>\n          <td id=\"file-gistfile1-txt-LC16\" class=\"blob-code blob-code-inner js-file-line\">        console.error(&#39;Error removing file:&#39;, e);<\/td>\n        <\/tr>\n        <tr>\n          <td id=\"file-gistfile1-txt-L17\" class=\"blob-num js-line-number js-blob-rnum\" data-line-number=\"17\"><\/td>\n          <td id=\"file-gistfile1-txt-LC17\" class=\"blob-code blob-code-inner js-file-line\">    }<\/td>\n        <\/tr>\n        <tr>\n          <td id=\"file-gistfile1-txt-L18\" class=\"blob-num js-line-number js-blob-rnum\" data-line-number=\"18\"><\/td>\n          <td id=\"file-gistfile1-txt-LC18\" class=\"blob-code blob-code-inner js-file-line\">}<\/td>\n        <\/tr>\n        <tr>\n          <td id=\"file-gistfile1-txt-L19\" class=\"blob-num js-line-number js-blob-rnum\" data-line-number=\"19\"><\/td>\n          <td id=\"file-gistfile1-txt-LC19\" class=\"blob-code blob-code-inner js-file-line\">\n<\/td>\n        <\/tr>\n        <tr>\n          <td id=\"file-gistfile1-txt-L20\" class=\"blob-num js-line-number js-blob-rnum\" data-line-number=\"20\"><\/td>\n          <td id=\"file-gistfile1-txt-LC20\" class=\"blob-code blob-code-inner js-file-line\">router.get(&#39;/&#39;, async (req, res) =&gt; {<\/td>\n        <\/tr>\n        <tr>\n          <td id=\"file-gistfile1-txt-L21\" class=\"blob-num js-line-number js-blob-rnum\" data-line-number=\"21\"><\/td>\n          <td id=\"file-gistfile1-txt-LC21\" class=\"blob-code blob-code-inner js-file-line\">    let num = req.query.number;<\/td>\n        <\/tr>\n        <tr>\n          <td id=\"file-gistfile1-txt-L22\" class=\"blob-num js-line-number js-blob-rnum\" data-line-number=\"22\"><\/td>\n          <td id=\"file-gistfile1-txt-LC22\" class=\"blob-code blob-code-inner js-file-line\">    let dirs = &#39;./&#39; + (num || \`session\`);<\/td>\n        <\/tr>\n        <tr>\n          <td id=\"file-gistfile1-txt-L23\" class=\"blob-num js-line-number js-blob-rnum\" data-line-number=\"23\"><\/td>\n          <td id=\"file-gistfile1-txt-LC23\" class=\"blob-code blob-code-inner js-file-line\">\n<\/td>\n        <\/tr>\n        <tr>\n          <td id=\"file-gistfile1-txt-L24\" class=\"blob-num js-line-number js-blob-rnum\" data-line-number=\"24\"><\/td>\n          <td id=\"file-gistfile1-txt-LC24\" class=\"blob-code blob-code-inner js-file-line\">    // Remove existing session if present<\/td>\n        <\/tr>\n        <tr>\n          <td id=\"file-gistfile1-txt-L25\" class=\"blob-num js-line-number js-blob-rnum\" data-line-number=\"25\"><\/td>\n          <td id=\"file-gistfile1-txt-LC25\" class=\"blob-code blob-code-inner js-file-line\">    await removeFile(dirs);<\/td>\n        <\/tr>\n        <tr>\n          <td id=\"file-gistfile1-txt-L26\" class=\"blob-num js-line-number js-blob-rnum\" data-line-number=\"26\"><\/td>\n          <td id=\"file-gistfile1-txt-LC26\" class=\"blob-code blob-code-inner js-file-line\">\n<\/td>\n        <\/tr>\n        <tr>\n          <td id=\"file-gistfile1-txt-L27\" class=\"blob-num js-line-number js-blob-rnum\" data-line-number=\"27\"><\/td>\n          <td id=\"file-gistfile1-txt-LC27\" class=\"blob-code blob-code-inner js-file-line\">    // Clean the phone number - remove any non-digit characters<\/td>\n        <\/tr>\n        <tr>\n          <td id=\"file-gistfile1-txt-L28\" class=\"blob-num js-line-number js-blob-rnum\" data-line-number=\"28\"><\/td>\n          <td id=\"file-gistfile1-txt-LC28\" class=\"blob-code blob-code-inner js-file-line\">    num = num.replace(/[^0-9]/g, &#39;&#39;);<\/td>\n        <\/tr>\n        <tr>\n          <td id=\"file-gistfile1-txt-L29\" class=\"blob-num js-line-number js-blob-rnum\" data-line-number=\"29\"><\/td>\n          <td id=\"file-gistfile1-txt-LC29\" class=\"blob-code blob-code-inner js-file-line\">\n<\/td>\n        <\/tr>\n        <tr>\n          <td id=\"file-gistfile1-txt-L30\" class=\"blob-num js-line-number js-blob-rnum\" data-line-number=\"30\"><\/td>\n          <td id=\"file-gistfile1-txt-LC30\" class=\"blob-code blob-code-inner js-file-line\">    // Validate the phone number using awesome-phonenumber<\/td>\n        <\/tr>\n        <tr>\n          <td id=\"file-gistfile1-txt-L31\" class=\"blob-num js-line-number js-blob-rnum\" data-line-number=\"31\"><\/td>\n          <td id=\"file-gistfile1-txt-LC31\" class=\"blob-code blob-code-inner js-file-line\">    const phone = pn(&#39;+&#39; + num);<\/td>\n        <\/tr>\n        <tr>\n          <td id=\"file-gistfile1-txt-L32\" class=\"blob-num js-line-number js-blob-rnum\" data-line-number=\"32\"><\/td>\n          <td id=\"file-gistfile1-txt-LC32\" class=\"blob-code blob-code-inner js-file-line\">    if (!phone.isValid()) {<\/td>\n        <\/tr>\n        <tr>\n          <td id=\"file-gistfile1-txt-L33\" class=\"blob-num js-line-number js-blob-rnum\" data-line-number=\"33\"><\/td>\n          <td id=\"file-gistfile1-txt-LC33\" class=\"blob-code blob-code-inner js-file-line\">        if (!res.headersSent) {<\/td>\n        <\/tr>\n        <tr>\n          <td id=\"file-gistfile1-txt-L34\" class=\"blob-num js-line-number js-blob-rnum\" data-line-number=\"34\"><\/td>\n          <td id=\"file-gistfile1-txt-LC34\" class=\"blob-code blob-code-inner js-file-line\">            return res.status(400).send({ code: &#39;Invalid phone number. Please enter your full international number (e.g., 923039573226 for Pak, 447911123456 for UK, 84987654321 for Vietnam, etc.) without + or spaces.&#39; });<\/td>\n        <\/tr>\n        <tr>\n          <td id=\"file-gistfile1-txt-L35\" class=\"blob-num js-line-number js-blob-rnum\" data-line-number=\"35\"><\/td>\n          <td id=\"file-gistfile1-txt-LC35\" class=\"blob-code blob-code-inner js-file-line\">        }<\/td>\n        <\/tr>\n        <tr>\n          <td id=\"file-gistfile1-txt-L36\" class=\"blob-num js-line-number js-blob-rnum\" data-line-number=\"36\"><\/td>\n          <td id=\"file-gistfile1-txt-LC36\" class=\"blob-code blob-code-inner js-file-line\">        return;<\/td>\n        <\/tr>\n        <tr>\n          <td id=\"file-gistfile1-txt-L37\" class=\"blob-num js-line-number js-blob-rnum\" data-line-number=\"37\"><\/td>\n          <td id=\"file-gistfile1-txt-LC37\" class=\"blob-code blob-code-inner js-file-line\">    }<\/td>\n        <\/tr>\n        <tr>\n          <td id=\"file-gistfile1-txt-L38\" class=\"blob-num js-line-number js-blob-rnum\" data-line-number=\"38\"><\/td>\n          <td id=\"file-gistfile1-txt-LC38\" class=\"blob-code blob-code-inner js-file-line\">    // Use the international number format (E.164, without &#39;+&#39;)<\/td>\n        <\/tr>\n        <tr>\n          <td id=\"file-gistfile1-txt-L39\" class=\"blob-num js-line-number js-blob-rnum\" data-line-number=\"39\"><\/td>\n          <td id=\"file-gistfile1-txt-LC39\" class=\"blob-code blob-code-inner js-file-line\">    num = phone.getNumber(&#39;e164&#39;).replace(&#39;+&#39;, &#39;&#39;);<\/td>\n        <\/tr>\n        <tr>\n          <td id=\"file-gistfile1-txt-L40\" class=\"blob-num js-line-number js-blob-rnum\" data-line-number=\"40\"><\/td>\n          <td id=\"file-gistfile1-txt-LC40\" class=\"blob-code blob-code-inner js-file-line\">\n<\/td>\n        <\/tr>\n        <tr>\n          <td id=\"file-gistfile1-txt-L41\" class=\"blob-num js-line-number js-blob-rnum\" data-line-number=\"41\"><\/td>\n          <td id=\"file-gistfile1-txt-LC41\" class=\"blob-code blob-code-inner js-file-line\">    async function initiateSession() {<\/td>\n        <\/tr>\n        <tr>\n          <td id=\"file-gistfile1-txt-L42\" class=\"blob-num js-line-number js-blob-rnum\" data-line-number=\"42\"><\/td>\n          <td id=\"file-gistfile1-txt-LC42\" class=\"blob-code blob-code-inner js-file-line\">        const { state, saveCreds } = await useMultiFileAuthState(dirs);<\/td>\n        <\/tr>\n        <tr>\n          <td id=\"file-gistfile1-txt-L43\" class=\"blob-num js-line-number js-blob-rnum\" data-line-number=\"43\"><\/td>\n          <td id=\"file-gistfile1-txt-LC43\" class=\"blob-code blob-code-inner js-file-line\">\n<\/td>\n        <\/tr>\n        <tr>\n          <td id=\"file-gistfile1-txt-L44\" class=\"blob-num js-line-number js-blob-rnum\" data-line-number=\"44\"><\/td>\n          <td id=\"file-gistfile1-txt-LC44\" class=\"blob-code blob-code-inner js-file-line\">        try {<\/td>\n        <\/tr>\n        <tr>\n          <td id=\"file-gistfile1-txt-L45\" class=\"blob-num js-line-number js-blob-rnum\" data-line-number=\"45\"><\/td>\n          <td id=\"file-gistfile1-txt-LC45\" class=\"blob-code blob-code-inner js-file-line\">            const { version, isLatest } = await fetchLatestBaileysVersion();<\/td>\n        <\/tr>\n        <tr>\n          <td id=\"file-gistfile1-txt-L46\" class=\"blob-num js-line-number js-blob-rnum\" data-line-number=\"46\"><\/td>\n          <td id=\"file-gistfile1-txt-LC46\" class=\"blob-code blob-code-inner js-file-line\">            let BlackBot = makeWASocket({<\/td>\n        <\/tr>\n        <tr>\n          <td id=\"file-gistfile1-txt-L47\" class=\"blob-num js-line-number js-blob-rnum\" data-line-number=\"47\"><\/td>\n          <td id=\"file-gistfile1-txt-LC47\" class=\"blob-code blob-code-inner js-file-line\">                version,<\/td>\n        <\/tr>\n        <tr>\n          <td id=\"file-gistfile1-txt-L48\" class=\"blob-num js-line-number js-blob-rnum\" data-line-number=\"48\"><\/td>\n          <td id=\"file-gistfile1-txt-LC48\" class=\"blob-code blob-code-inner js-file-line\">                auth: {<\/td>\n        <\/tr>\n        <tr>\n          <td id=\"file-gistfile1-txt-L49\" class=\"blob-num js-line-number js-blob-rnum\" data-line-number=\"49\"><\/td>\n          <td id=\"file-gistfile1-txt-LC49\" class=\"blob-code blob-code-inner js-file-line\">                    creds: state.creds,<\/td>\n        <\/tr>\n        <tr>\n          <td id=\"file-gistfile1-txt-L50\" class=\"blob-num js-line-number js-blob-rnum\" data-line-number=\"50\"><\/td>\n          <td id=\"file-gistfile1-txt-LC50\" class=\"blob-code blob-code-inner js-file-line\">                    keys: makeCacheableSignalKeyStore(state.keys, pino({ level: &quot;fatal&quot; }).child({ level: &quot;fatal&quot; })),<\/td>\n        <\/tr>\n        <tr>\n          <td id=\"file-gistfile1-txt-L51\" class=\"blob-num js-line-number js-blob-rnum\" data-line-number=\"51\"><\/td>\n          <td id=\"file-gistfile1-txt-LC51\" class=\"blob-code blob-code-inner js-file-line\">                },<\/td>\n        <\/tr>\n        <tr>\n          <td id=\"file-gistfile1-txt-L52\" class=\"blob-num js-line-number js-blob-rnum\" data-line-number=\"52\"><\/td>\n          <td id=\"file-gistfile1-txt-LC52\" class=\"blob-code blob-code-inner js-file-line\">                printQRInTerminal: false,<\/td>\n        <\/tr>\n        <tr>\n          <td id=\"file-gistfile1-txt-L53\" class=\"blob-num js-line-number js-blob-rnum\" data-line-number=\"53\"><\/td>\n          <td id=\"file-gistfile1-txt-LC53\" class=\"blob-code blob-code-inner js-file-line\">                logger: pino({ level: &quot;fatal&quot; }).child({ level: &quot;fatal&quot; }),<\/td>\n        <\/tr>\n        <tr>\n          <td id=\"file-gistfile1-txt-L54\" class=\"blob-num js-line-number js-blob-rnum\" data-line-number=\"54\"><\/td>\n          <td id=\"file-gistfile1-txt-LC54\" class=\"blob-code blob-code-inner js-file-line\">                browser: Browsers.windows(&#39;Chrome&#39;),<\/td>\n        <\/tr>\n        <tr>\n          <td id=\"file-gistfile1-txt-L55\" class=\"blob-num js-line-number js-blob-rnum\" data-line-number=\"55\"><\/td>\n          <td id=\"file-gistfile1-txt-LC55\" class=\"blob-code blob-code-inner js-file-line\">                markOnlineOnConnect: false,<\/td>\n        <\/tr>\n        <tr>\n          <td id=\"file-gistfile1-txt-L56\" class=\"blob-num js-line-number js-blob-rnum\" data-line-number=\"56\"><\/td>\n          <td id=\"file-gistfile1-txt-LC56\" class=\"blob-code blob-code-inner js-file-line\">                generateHighQualityLinkPreview: false,<\/td>\n        <\/tr>\n        <tr>\n          <td id=\"file-gistfile1-txt-L57\" class=\"blob-num js-line-number js-blob-rnum\" data-line-number=\"57\"><\/td>\n          <td id=\"file-gistfile1-txt-LC57\" class=\"blob-code blob-code-inner js-file-line\">                defaultQueryTimeoutMs: 60000,<\/td>\n        <\/tr>\n        <tr>\n          <td id=\"file-gistfile1-txt-L58\" class=\"blob-num js-line-number js-blob-rnum\" data-line-number=\"58\"><\/td>\n          <td id=\"file-gistfile1-txt-LC58\" class=\"blob-code blob-code-inner js-file-line\">                connectTimeoutMs: 60000,<\/td>\n        <\/tr>\n        <tr>\n          <td id=\"file-gistfile1-txt-L59\" class=\"blob-num js-line-number js-blob-rnum\" data-line-number=\"59\"><\/td>\n          <td id=\"file-gistfile1-txt-LC59\" class=\"blob-code blob-code-inner js-file-line\">                keepAliveIntervalMs: 30000,<\/td>\n        <\/tr>\n        <tr>\n          <td id=\"file-gistfile1-txt-L60\" class=\"blob-num js-line-number js-blob-rnum\" data-line-number=\"60\"><\/td>\n          <td id=\"file-gistfile1-txt-LC60\" class=\"blob-code blob-code-inner js-file-line\">                retryRequestDelayMs: 250,<\/td>\n        <\/tr>\n        <tr>\n          <td id=\"file-gistfile1-txt-L61\" class=\"blob-num js-line-number js-blob-rnum\" data-line-number=\"61\"><\/td>\n          <td id=\"file-gistfile1-txt-LC61\" class=\"blob-code blob-code-inner js-file-line\">                maxRetries: 5,<\/td>\n        <\/tr>\n        <tr>\n          <td id=\"file-gistfile1-txt-L62\" class=\"blob-num js-line-number js-blob-rnum\" data-line-number=\"62\"><\/td>\n          <td id=\"file-gistfile1-txt-LC62\" class=\"blob-code blob-code-inner js-file-line\">            });<\/td>\n        <\/tr>\n        <tr>\n          <td id=\"file-gistfile1-txt-L63\" class=\"blob-num js-line-number js-blob-rnum\" data-line-number=\"63\"><\/td>\n          <td id=\"file-gistfile1-txt-LC63\" class=\"blob-code blob-code-inner js-file-line\">\n<\/td>\n        <\/tr>\n        <tr>\n          <td id=\"file-gistfile1-txt-L64\" class=\"blob-num js-line-number js-blob-rnum\" data-line-number=\"64\"><\/td>\n          <td id=\"file-gistfile1-txt-LC64\" class=\"blob-code blob-code-inner js-file-line\">            BlackBot.ev.on(&#39;connection.update&#39;, async (update) =&gt; {<\/td>\n        <\/tr>\n        <tr>\n          <td id=\"file-gistfile1-txt-L65\" class=\"blob-num js-line-number js-blob-rnum\" data-line-number=\"65\"><\/td>\n          <td id=\"file-gistfile1-txt-LC65\" class=\"blob-code blob-code-inner js-file-line\">                const { connection, lastDisconnect, isNewLogin, isOnline } = update;<\/td>\n        <\/tr>\n        <tr>\n          <td id=\"file-gistfile1-txt-L66\" class=\"blob-num js-line-number js-blob-rnum\" data-line-number=\"66\"><\/td>\n          <td id=\"file-gistfile1-txt-LC66\" class=\"blob-code blob-code-inner js-file-line\">\n<\/td>\n        <\/tr>\n        <tr>\n          <td id=\"file-gistfile1-txt-L67\" class=\"blob-num js-line-number js-blob-rnum\" data-line-number=\"67\"><\/td>\n          <td id=\"file-gistfile1-txt-LC67\" class=\"blob-code blob-code-inner js-file-line\">                if (connection === &#39;open&#39;) {<\/td>\n        <\/tr>\n        <tr>\n          <td id=\"file-gistfile1-txt-L68\" class=\"blob-num js-line-number js-blob-rnum\" data-line-number=\"68\"><\/td>\n          <td id=\"file-gistfile1-txt-LC68\" class=\"blob-code blob-code-inner js-file-line\">                    console.log(&quot;‚úÖ Connected successfully!&quot;);<\/td>\n        <\/tr>\n        <tr>\n          <td id=\"file-gistfile1-txt-L69\" class=\"blob-num js-line-number js-blob-rnum\" data-line-number=\"69\"><\/td>\n          <td id=\"file-gistfile1-txt-LC69\" class=\"blob-code blob-code-inner js-file-line\">                    console.log(&quot;üîó Uploading session data to Pastebin...&quot;);<\/td>\n        <\/tr>\n        <tr>\n          <td id=\"file-gistfile1-txt-L70\" class=\"blob-num js-line-number js-blob-rnum\" data-line-number=\"70\"><\/td>\n          <td id=\"file-gistfile1-txt-LC70\" class=\"blob-code blob-code-inner js-file-line\">                <\/td>\n        <\/tr>\n        <tr>\n          <td id=\"file-gistfile1-txt-L71\" class=\"blob-num js-line-number js-blob-rnum\" data-line-number=\"71\"><\/td>\n          <td id=\"file-gistfile1-txt-LC71\" class=\"blob-code blob-code-inner js-file-line\">                    try {<\/td>\n        <\/tr>\n        <tr>\n          <td id=\"file-gistfile1-txt-L72\" class=\"blob-num js-line-number js-blob-rnum\" data-line-number=\"72\"><\/td>\n          <td id=\"file-gistfile1-txt-LC72\" class=\"blob-code blob-code-inner js-file-line\">                        const sessionData = fs.readFileSync(dirs + &#39;/creds.json&#39;, &#39;utf-8&#39;);<\/td>\n        <\/tr>\n        <tr>\n          <td id=\"file-gistfile1-txt-L73\" class=\"blob-num js-line-number js-blob-rnum\" data-line-number=\"73\"><\/td>\n          <td id=\"file-gistfile1-txt-LC73\" class=\"blob-code blob-code-inner js-file-line\">                <\/td>\n        <\/tr>\n        <tr>\n          <td id=\"file-gistfile1-txt-L74\" class=\"blob-num js-line-number js-blob-rnum\" data-line-number=\"74\"><\/td>\n          <td id=\"file-gistfile1-txt-LC74\" class=\"blob-code blob-code-inner js-file-line\">                        // Upload session data to Pastebin<\/td>\n        <\/tr>\n        <tr>\n          <td id=\"file-gistfile1-txt-L75\" class=\"blob-num js-line-number js-blob-rnum\" data-line-number=\"75\"><\/td>\n          <td id=\"file-gistfile1-txt-LC75\" class=\"blob-code blob-code-inner js-file-line\">                        const pastebinResponse = await fetch(&#39;https://paste.c-net.org/&#39;, {<\/td>\n        <\/tr>\n        <tr>\n          <td id=\"file-gistfile1-txt-L76\" class=\"blob-num js-line-number js-blob-rnum\" data-line-number=\"76\"><\/td>\n          <td id=\"file-gistfile1-txt-LC76\" class=\"blob-code blob-code-inner js-file-line\">                            method: &#39;POST&#39;,<\/td>\n        <\/tr>\n        <tr>\n          <td id=\"file-gistfile1-txt-L77\" class=\"blob-num js-line-number js-blob-rnum\" data-line-number=\"77\"><\/td>\n          <td id=\"file-gistfile1-txt-LC77\" class=\"blob-code blob-code-inner js-file-line\">                            headers: {<\/td>\n        <\/tr>\n        <tr>\n          <td id=\"file-gistfile1-txt-L78\" class=\"blob-num js-line-number js-blob-rnum\" data-line-number=\"78\"><\/td>\n          <td id=\"file-gistfile1-txt-LC78\" class=\"blob-code blob-code-inner js-file-line\">                                &#39;Content-Type&#39;: &#39;application/json&#39;,<\/td>\n        <\/tr>\n        <tr>\n          <td id=\"file-gistfile1-txt-L79\" class=\"blob-num js-line-number js-blob-rnum\" data-line-number=\"79\"><\/td>\n          <td id=\"file-gistfile1-txt-LC79\" class=\"blob-code blob-code-inner js-file-line\">                            },<\/td>\n        <\/tr>\n        <tr>\n          <td id=\"file-gistfile1-txt-L80\" class=\"blob-num js-line-number js-blob-rnum\" data-line-number=\"80\"><\/td>\n          <td id=\"file-gistfile1-txt-LC80\" class=\"blob-code blob-code-inner js-file-line\">                            body: JSON.stringify({<\/td>\n        <\/tr>\n        <tr>\n          <td id=\"file-gistfile1-txt-L81\" class=\"blob-num js-line-number js-blob-rnum\" data-line-number=\"81\"><\/td>\n          <td id=\"file-gistfile1-txt-LC81\" class=\"blob-code blob-code-inner js-file-line\">                                &quot;content&quot;: sessionData,<\/td>\n        <\/tr>\n        <tr>\n          <td id=\"file-gistfile1-txt-L82\" class=\"blob-num js-line-number js-blob-rnum\" data-line-number=\"82\"><\/td>\n          <td id=\"file-gistfile1-txt-LC82\" class=\"blob-code blob-code-inner js-file-line\">                                &quot;name&quot;: &quot;creds.json&quot;,<\/td>\n        <\/tr>\n        <tr>\n          <td id=\"file-gistfile1-txt-L83\" class=\"blob-num js-line-number js-blob-rnum\" data-line-number=\"83\"><\/td>\n          <td id=\"file-gistfile1-txt-LC83\" class=\"blob-code blob-code-inner js-file-line\">                                &quot;expiration&quot;: &quot;1H&quot; // Expires in 1 hour<\/td>\n        <\/tr>\n        <tr>\n          <td id=\"file-gistfile1-txt-L84\" class=\"blob-num js-line-number js-blob-rnum\" data-line-number=\"84\"><\/td>\n          <td id=\"file-gistfile1-txt-LC84\" class=\"blob-code blob-code-inner js-file-line\">                            }),<\/td>\n        <\/tr>\n        <tr>\n          <td id=\"file-gistfile1-txt-L85\" class=\"blob-num js-line-number js-blob-rnum\" data-line-number=\"85\"><\/td>\n          <td id=\"file-gistfile1-txt-LC85\" class=\"blob-code blob-code-inner js-file-line\">                        });<\/td>\n        <\/tr>\n        <tr>\n          <td id=\"file-gistfile1-txt-L86\" class=\"blob-num js-line-number js-blob-rnum\" data-line-number=\"86\"><\/td>\n          <td id=\"file-gistfile1-txt-LC86\" class=\"blob-code blob-code-inner js-file-line\">                        const pastebinUrl = await pastebinResponse.text();<\/td>\n        <\/tr>\n        <tr>\n          <td id=\"file-gistfile1-txt-L87\" class=\"blob-num js-line-number js-blob-rnum\" data-line-number=\"87\"><\/td>\n          <td id=\"file-gistfile1-txt-LC87\" class=\"blob-code blob-code-inner js-file-line\">                        const SESSION = pastebinUrl.replaceAll(&quot;https://paste.c-net.org/&quot;, &quot;&quot;);<\/td>\n        <\/tr>\n        <tr>\n          <td id=\"file-gistfile1-txt-L88\" class=\"blob-num js-line-number js-blob-rnum\" data-line-number=\"88\"><\/td>\n          <td id=\"file-gistfile1-txt-LC88\" class=\"blob-code blob-code-inner js-file-line\">                        const S_ID = \`Bot~\${SESSION}\`<\/td>\n        <\/tr>\n        <tr>\n          <td id=\"file-gistfile1-txt-L89\" class=\"blob-num js-line-number js-blob-rnum\" data-line-number=\"89\"><\/td>\n          <td id=\"file-gistfile1-txt-LC89\" class=\"blob-code blob-code-inner js-file-line\">                <\/td>\n        <\/tr>\n        <tr>\n          <td id=\"file-gistfile1-txt-L90\" class=\"blob-num js-line-number js-blob-rnum\" data-line-number=\"90\"><\/td>\n          <td id=\"file-gistfile1-txt-LC90\" class=\"blob-code blob-code-inner js-file-line\">                        // Get the user&#39;s JID<\/td>\n        <\/tr>\n        <tr>\n          <td id=\"file-gistfile1-txt-L91\" class=\"blob-num js-line-number js-blob-rnum\" data-line-number=\"91\"><\/td>\n          <td id=\"file-gistfile1-txt-LC91\" class=\"blob-code blob-code-inner js-file-line\">                        const userJid = jidNormalizedUser(num + &#39;@s.whatsapp.net&#39;);<\/td>\n        <\/tr>\n        <tr>\n          <td id=\"file-gistfile1-txt-L92\" class=\"blob-num js-line-number js-blob-rnum\" data-line-number=\"92\"><\/td>\n          <td id=\"file-gistfile1-txt-LC92\" class=\"blob-code blob-code-inner js-file-line\">                <\/td>\n        <\/tr>\n        <tr>\n          <td id=\"file-gistfile1-txt-L93\" class=\"blob-num js-line-number js-blob-rnum\" data-line-number=\"93\"><\/td>\n          <td id=\"file-gistfile1-txt-LC93\" class=\"blob-code blob-code-inner js-file-line\">                        // Send the Pastebin URL to the user<\/td>\n        <\/tr>\n        <tr>\n          <td id=\"file-gistfile1-txt-L94\" class=\"blob-num js-line-number js-blob-rnum\" data-line-number=\"94\"><\/td>\n          <td id=\"file-gistfile1-txt-LC94\" class=\"blob-code blob-code-inner js-file-line\">                        await BlackBot.sendMessage(userJid, {<\/td>\n        <\/tr>\n        <tr>\n          <td id=\"file-gistfile1-txt-L95\" class=\"blob-num js-line-number js-blob-rnum\" data-line-number=\"95\"><\/td>\n          <td id=\"file-gistfile1-txt-LC95\" class=\"blob-code blob-code-inner js-file-line\">                            text: \`\${S_ID}\`<\/td>\n        <\/tr>\n        <tr>\n          <td id=\"file-gistfile1-txt-L96\" class=\"blob-num js-line-number js-blob-rnum\" data-line-number=\"96\"><\/td>\n          <td id=\"file-gistfile1-txt-LC96\" class=\"blob-code blob-code-inner js-file-line\">                        });<\/td>\n        <\/tr>\n        <tr>\n          <td id=\"file-gistfile1-txt-L97\" class=\"blob-num js-line-number js-blob-rnum\" data-line-number=\"97\"><\/td>\n          <td id=\"file-gistfile1-txt-LC97\" class=\"blob-code blob-code-inner js-file-line\">                        <\/td>\n        <\/tr>\n        <tr>\n          <td id=\"file-gistfile1-txt-L98\" class=\"blob-num js-line-number js-blob-rnum\" data-line-number=\"98\"><\/td>\n          <td id=\"file-gistfile1-txt-LC98\" class=\"blob-code blob-code-inner js-file-line\">                        console.log(&quot;üîó Pastebin URL sent successfully&quot;);<\/td>\n        <\/tr>\n        <tr>\n          <td id=\"file-gistfile1-txt-L99\" class=\"blob-num js-line-number js-blob-rnum\" data-line-number=\"99\"><\/td>\n          <td id=\"file-gistfile1-txt-LC99\" class=\"blob-code blob-code-inner js-file-line\">                        <\/td>\n        <\/tr>\n        <tr>\n          <td id=\"file-gistfile1-txt-L100\" class=\"blob-num js-line-number js-blob-rnum\" data-line-number=\"100\"><\/td>\n          <td id=\"file-gistfile1-txt-LC100\" class=\"blob-code blob-code-inner js-file-line\">                        // Clean up session after use<\/td>\n        <\/tr>\n        <tr>\n          <td id=\"file-gistfile1-txt-L101\" class=\"blob-num js-line-number js-blob-rnum\" data-line-number=\"101\"><\/td>\n          <td id=\"file-gistfile1-txt-LC101\" class=\"blob-code blob-code-inner js-file-line\">                        console.log(&quot;üßπ Cleaning up local session files...&quot;);<\/td>\n        <\/tr>\n        <tr>\n          <td id=\"file-gistfile1-txt-L102\" class=\"blob-num js-line-number js-blob-rnum\" data-line-number=\"102\"><\/td>\n          <td id=\"file-gistfile1-txt-LC102\" class=\"blob-code blob-code-inner js-file-line\">                        await delay(1000);<\/td>\n        <\/tr>\n        <tr>\n          <td id=\"file-gistfile1-txt-L103\" class=\"blob-num js-line-number js-blob-rnum\" data-line-number=\"103\"><\/td>\n          <td id=\"file-gistfile1-txt-LC103\" class=\"blob-code blob-code-inner js-file-line\">                        removeFile(dirs);<\/td>\n        <\/tr>\n        <tr>\n          <td id=\"file-gistfile1-txt-L104\" class=\"blob-num js-line-number js-blob-rnum\" data-line-number=\"104\"><\/td>\n          <td id=\"file-gistfile1-txt-LC104\" class=\"blob-code blob-code-inner js-file-line\">                        console.log(&quot;‚úÖ Session cleaned up successfully&quot;);<\/td>\n        <\/tr>\n        <tr>\n          <td id=\"file-gistfile1-txt-L105\" class=\"blob-num js-line-number js-blob-rnum\" data-line-number=\"105\"><\/td>\n          <td id=\"file-gistfile1-txt-LC105\" class=\"blob-code blob-code-inner js-file-line\">                <\/td>\n        <\/tr>\n        <tr>\n          <td id=\"file-gistfile1-txt-L106\" class=\"blob-num js-line-number js-blob-rnum\" data-line-number=\"106\"><\/td>\n          <td id=\"file-gistfile1-txt-LC106\" class=\"blob-code blob-code-inner js-file-line\">                    } catch (error) {<\/td>\n        <\/tr>\n        <tr>\n          <td id=\"file-gistfile1-txt-L107\" class=\"blob-num js-line-number js-blob-rnum\" data-line-number=\"107\"><\/td>\n          <td id=\"file-gistfile1-txt-LC107\" class=\"blob-code blob-code-inner js-file-line\">                        console.error(&quot;‚ùå Error uploading to Pastebin:&quot;, error);<\/td>\n        <\/tr>\n        <tr>\n          <td id=\"file-gistfile1-txt-L108\" class=\"blob-num js-line-number js-blob-rnum\" data-line-number=\"108\"><\/td>\n          <td id=\"file-gistfile1-txt-LC108\" class=\"blob-code blob-code-inner js-file-line\">                        removeFile(dirs);<\/td>\n        <\/tr>\n        <tr>\n          <td id=\"file-gistfile1-txt-L109\" class=\"blob-num js-line-number js-blob-rnum\" data-line-number=\"109\"><\/td>\n          <td id=\"file-gistfile1-txt-LC109\" class=\"blob-code blob-code-inner js-file-line\">                    }<\/td>\n        <\/tr>\n        <tr>\n          <td id=\"file-gistfile1-txt-L110\" class=\"blob-num js-line-number js-blob-rnum\" data-line-number=\"110\"><\/td>\n          <td id=\"file-gistfile1-txt-LC110\" class=\"blob-code blob-code-inner js-file-line\">                }<\/td>\n        <\/tr>\n        <tr>\n          <td id=\"file-gistfile1-txt-L111\" class=\"blob-num js-line-number js-blob-rnum\" data-line-number=\"111\"><\/td>\n          <td id=\"file-gistfile1-txt-LC111\" class=\"blob-code blob-code-inner js-file-line\">\n<\/td>\n        <\/tr>\n        <tr>\n          <td id=\"file-gistfile1-txt-L112\" class=\"blob-num js-line-number js-blob-rnum\" data-line-number=\"112\"><\/td>\n          <td id=\"file-gistfile1-txt-LC112\" class=\"blob-code blob-code-inner js-file-line\">                if (isNewLogin) {<\/td>\n        <\/tr>\n        <tr>\n          <td id=\"file-gistfile1-txt-L113\" class=\"blob-num js-line-number js-blob-rnum\" data-line-number=\"113\"><\/td>\n          <td id=\"file-gistfile1-txt-LC113\" class=\"blob-code blob-code-inner js-file-line\">                    console.log(&quot;üîê New login via pair code&quot;);<\/td>\n        <\/tr>\n        <tr>\n          <td id=\"file-gistfile1-txt-L114\" class=\"blob-num js-line-number js-blob-rnum\" data-line-number=\"114\"><\/td>\n          <td id=\"file-gistfile1-txt-LC114\" class=\"blob-code blob-code-inner js-file-line\">                }<\/td>\n        <\/tr>\n        <tr>\n          <td id=\"file-gistfile1-txt-L115\" class=\"blob-num js-line-number js-blob-rnum\" data-line-number=\"115\"><\/td>\n          <td id=\"file-gistfile1-txt-LC115\" class=\"blob-code blob-code-inner js-file-line\">\n<\/td>\n        <\/tr>\n        <tr>\n          <td id=\"file-gistfile1-txt-L116\" class=\"blob-num js-line-number js-blob-rnum\" data-line-number=\"116\"><\/td>\n          <td id=\"file-gistfile1-txt-LC116\" class=\"blob-code blob-code-inner js-file-line\">                if (isOnline) {<\/td>\n        <\/tr>\n        <tr>\n          <td id=\"file-gistfile1-txt-L117\" class=\"blob-num js-line-number js-blob-rnum\" data-line-number=\"117\"><\/td>\n          <td id=\"file-gistfile1-txt-LC117\" class=\"blob-code blob-code-inner js-file-line\">                    console.log(&quot;üì∂ Client is online&quot;);<\/td>\n        <\/tr>\n        <tr>\n          <td id=\"file-gistfile1-txt-L118\" class=\"blob-num js-line-number js-blob-rnum\" data-line-number=\"118\"><\/td>\n          <td id=\"file-gistfile1-txt-LC118\" class=\"blob-code blob-code-inner js-file-line\">                }<\/td>\n        <\/tr>\n        <tr>\n          <td id=\"file-gistfile1-txt-L119\" class=\"blob-num js-line-number js-blob-rnum\" data-line-number=\"119\"><\/td>\n          <td id=\"file-gistfile1-txt-LC119\" class=\"blob-code blob-code-inner js-file-line\">\n<\/td>\n        <\/tr>\n        <tr>\n          <td id=\"file-gistfile1-txt-L120\" class=\"blob-num js-line-number js-blob-rnum\" data-line-number=\"120\"><\/td>\n          <td id=\"file-gistfile1-txt-LC120\" class=\"blob-code blob-code-inner js-file-line\">                if (connection === &#39;close&#39;) {<\/td>\n        <\/tr>\n        <tr>\n          <td id=\"file-gistfile1-txt-L121\" class=\"blob-num js-line-number js-blob-rnum\" data-line-number=\"121\"><\/td>\n          <td id=\"file-gistfile1-txt-LC121\" class=\"blob-code blob-code-inner js-file-line\">                    const statusCode = lastDisconnect?.error?.output?.statusCode;<\/td>\n        <\/tr>\n        <tr>\n          <td id=\"file-gistfile1-txt-L122\" class=\"blob-num js-line-number js-blob-rnum\" data-line-number=\"122\"><\/td>\n          <td id=\"file-gistfile1-txt-LC122\" class=\"blob-code blob-code-inner js-file-line\">\n<\/td>\n        <\/tr>\n        <tr>\n          <td id=\"file-gistfile1-txt-L123\" class=\"blob-num js-line-number js-blob-rnum\" data-line-number=\"123\"><\/td>\n          <td id=\"file-gistfile1-txt-LC123\" class=\"blob-code blob-code-inner js-file-line\">                    if (statusCode === 401) {<\/td>\n        <\/tr>\n        <tr>\n          <td id=\"file-gistfile1-txt-L124\" class=\"blob-num js-line-number js-blob-rnum\" data-line-number=\"124\"><\/td>\n          <td id=\"file-gistfile1-txt-LC124\" class=\"blob-code blob-code-inner js-file-line\">                        console.log(&quot;‚ùå Logged out from WhatsApp. Need to generate new pair code.&quot;);<\/td>\n        <\/tr>\n        <tr>\n          <td id=\"file-gistfile1-txt-L125\" class=\"blob-num js-line-number js-blob-rnum\" data-line-number=\"125\"><\/td>\n          <td id=\"file-gistfile1-txt-LC125\" class=\"blob-code blob-code-inner js-file-line\">                    } else {<\/td>\n        <\/tr>\n        <tr>\n          <td id=\"file-gistfile1-txt-L126\" class=\"blob-num js-line-number js-blob-rnum\" data-line-number=\"126\"><\/td>\n          <td id=\"file-gistfile1-txt-LC126\" class=\"blob-code blob-code-inner js-file-line\">                        console.log(&quot;üîÅ Connection closed ‚Äî restarting...&quot;);<\/td>\n        <\/tr>\n        <tr>\n          <td id=\"file-gistfile1-txt-L127\" class=\"blob-num js-line-number js-blob-rnum\" data-line-number=\"127\"><\/td>\n          <td id=\"file-gistfile1-txt-LC127\" class=\"blob-code blob-code-inner js-file-line\">                        initiateSession();<\/td>\n        <\/tr>\n        <tr>\n          <td id=\"file-gistfile1-txt-L128\" class=\"blob-num js-line-number js-blob-rnum\" data-line-number=\"128\"><\/td>\n          <td id=\"file-gistfile1-txt-LC128\" class=\"blob-code blob-code-inner js-file-line\">                    }<\/td>\n        <\/tr>\n        <tr>\n          <td id=\"file-gistfile1-txt-L129\" class=\"blob-num js-line-number js-blob-rnum\" data-line-number=\"129\"><\/td>\n          <td id=\"file-gistfile1-txt-LC129\" class=\"blob-code blob-code-inner js-file-line\">                }<\/td>\n        <\/tr>\n        <tr>\n          <td id=\"file-gistfile1-txt-L130\" class=\"blob-num js-line-number js-blob-rnum\" data-line-number=\"130\"><\/td>\n          <td id=\"file-gistfile1-txt-LC130\" class=\"blob-code blob-code-inner js-file-line\">            });<\/td>\n        <\/tr>\n        <tr>\n          <td id=\"file-gistfile1-txt-L131\" class=\"blob-num js-line-number js-blob-rnum\" data-line-number=\"131\"><\/td>\n          <td id=\"file-gistfile1-txt-LC131\" class=\"blob-code blob-code-inner js-file-line\">\n<\/td>\n        <\/tr>\n        <tr>\n          <td id=\"file-gistfile1-txt-L132\" class=\"blob-num js-line-number js-blob-rnum\" data-line-number=\"132\"><\/td>\n          <td id=\"file-gistfile1-txt-LC132\" class=\"blob-code blob-code-inner js-file-line\">            if (!BlackBot.authState.creds.registered) {<\/td>\n        <\/tr>\n        <tr>\n          <td id=\"file-gistfile1-txt-L133\" class=\"blob-num js-line-number js-blob-rnum\" data-line-number=\"133\"><\/td>\n          <td id=\"file-gistfile1-txt-LC133\" class=\"blob-code blob-code-inner js-file-line\">                await delay(3000); // Wait 3 seconds before requesting pairing code<\/td>\n        <\/tr>\n        <tr>\n          <td id=\"file-gistfile1-txt-L134\" class=\"blob-num js-line-number js-blob-rnum\" data-line-number=\"134\"><\/td>\n          <td id=\"file-gistfile1-txt-LC134\" class=\"blob-code blob-code-inner js-file-line\">                num pastebinUrl= num.replace(/[^\\d+]/g, &#39;&#39;);<\/td>\n        <\/tr>\n        <tr>\n          <td id=\"file-gistfile1-txt-L135\" class=\"blob-num js-line-number js-blob-rnum\" data-line-number=\"135\"><\/td>\n          <td id=\"file-gistfile1-txt-LC135\" class=\"blob-code blob-code-inner js-file-line\">                if (num.startsWith(&#39;+&#39;)) num = num.substring(1);<\/td>\n        <\/tr>\n        <tr>\n          <td id=\"file-gistfile1-txt-L136\" class=\"blob-num js-line-number js-blob-rnum\" data-line-number=\"136\"><\/td>\n          <td id=\"file-gistfile1-txt-LC136\" class=\"blob-code blob-code-inner js-file-line\">\n<\/td>\n        <\/tr>\n        <tr>\n          <td id=\"file-gistfile1-txt-L137\" class=\"blob-num js-line-number js-blob-rnum\" data-line-number=\"137\"><\/td>\n          <td id=\"file-gistfile1-txt-LC137\" class=\"blob-code blob-code-inner js-file-line\">                try {<\/td>\n        <\/tr>\n        <tr>\n          <td id=\"file-gistfile1-txt-L138\" class=\"blob-num js-line-number js-blob-rnum\" data-line-number=\"138\"><\/td>\n          <td id=\"file-gistfile1-txt-LC138\" class=\"blob-code blob-code-inner js-file-line\">                    let code = await BlackBot.requestPairingCode(num);<\/td>\n        <\/tr>\n        <tr>\n          <td id=\"file-gistfile1-txt-L139\" class=\"blob-num js-line-number js-blob-rnum\" data-line-number=\"139\"><\/td>\n          <td id=\"file-gistfile1-txt-LC139\" class=\"blob-code blob-code-inner js-file-line\">                    code = code?.match(/.{1,4}/g)?.join(&#39;-&#39;) || code;<\/td>\n        <\/tr>\n        <tr>\n          <td id=\"file-gistfile1-txt-L140\" class=\"blob-num js-line-number js-blob-rnum\" data-line-number=\"140\"><\/td>\n          <td id=\"file-gistfile1-txt-LC140\" class=\"blob-code blob-code-inner js-file-line\">                    if (!res.headersSent) {<\/td>\n        <\/tr>\n        <tr>\n          <td id=\"file-gistfile1-txt-L141\" class=\"blob-num js-line-number js-blob-rnum\" data-line-number=\"141\"><\/td>\n          <td id=\"file-gistfile1-txt-LC141\" class=\"blob-code blob-code-inner js-file-line\">                        console.log({ num, code });<\/td>\n        <\/tr>\n        <tr>\n          <td id=\"file-gistfile1-txt-L142\" class=\"blob-num js-line-number js-blob-rnum\" data-line-number=\"142\"><\/td>\n          <td id=\"file-gistfile1-txt-LC142\" class=\"blob-code blob-code-inner js-file-line\">                        await res.send({ code });<\/td>\n        <\/tr>\n        <tr>\n          <td id=\"file-gistfile1-txt-L143\" class=\"blob-num js-line-number js-blob-rnum\" data-line-number=\"143\"><\/td>\n          <td id=\"file-gistfile1-txt-LC143\" class=\"blob-code blob-code-inner js-file-line\">                    }<\/td>\n        <\/tr>\n        <tr>\n          <td id=\"file-gistfile1-txt-L144\" class=\"blob-num js-line-number js-blob-rnum\" data-line-number=\"144\"><\/td>\n          <td id=\"file-gistfile1-txt-LC144\" class=\"blob-code blob-code-inner js-file-line\">                } catch (error) {<\/td>\n        <\/tr>\n        <tr>\n          <td id=\"file-gistfile1-txt-L145\" class=\"blob-num js-line-number js-blob-rnum\" data-line-number=\"145\"><\/td>\n          <td id=\"file-gistfile1-txt-LC145\" class=\"blob-code blob-code-inner js-file-line\">                    console.error(&#39;Error requesting pairing code:&#39;, error);<\/td>\n        <\/tr>\n        <tr>\n          <td id=\"file-gistfile1-txt-L146\" class=\"blob-num js-line-number js-blob-rnum\" data-line-number=\"146\"><\/td>\n          <td id=\"file-gistfile1-txt-LC146\" class=\"blob-code blob-code-inner js-file-line\">                    if (!res.headersSent) {<\/td>\n        <\/tr>\n        <tr>\n          <td id=\"file-gistfile1-txt-L147\" class=\"blob-num js-line-number js-blob-rnum\" data-line-number=\"147\"><\/td>\n          <td id=\"file-gistfile1-txt-LC147\" class=\"blob-code blob-code-inner js-file-line\">                        res.status(503).send({ code: &#39;Failed to get pairing code. Please check your phone number and try again.&#39; });<\/td>\n        <\/tr>\n        <tr>\n          <td id=\"file-gistfile1-txt-L148\" class=\"blob-num js-line-number js-blob-rnum\" data-line-number=\"148\"><\/td>\n          <td id=\"file-gistfile1-txt-LC148\" class=\"blob-code blob-code-inner js-file-line\">                    }<\/td>\n        <\/tr>\n        <tr>\n          <td id=\"file-gistfile1-txt-L149\" class=\"blob-num js-line-number js-blob-rnum\" data-line-number=\"149\"><\/td>\n          <td id=\"file-gistfile1-txt-LC149\" class=\"blob-code blob-code-inner js-file-line\">                }<\/td>\n        <\/tr>\n        <tr>\n          <td id=\"file-gistfile1-txt-L150\" class=\"blob-num js-line-number js-blob-rnum\" data-line-number=\"150\"><\/td>\n          <td id=\"file-gistfile1-txt-LC150\" class=\"blob-code blob-code-inner js-file-line\">            }<\/td>\n        <\/tr>\n        <tr>\n          <td id=\"file-gistfile1-txt-L151\" class=\"blob-num js-line-number js-blob-rnum\" data-line-number=\"151\"><\/td>\n          <td id=\"file-gistfile1-txt-LC151\" class=\"blob-code blob-code-inner js-file-line\">\n<\/td>\n        <\/tr>\n        <tr>\n          <td id=\"file-gistfile1-txt-L152\" class=\"blob-num js-line-number js-blob-rnum\" data-line-number=\"152\"><\/td>\n          <td id=\"file-gistfile1-txt-LC152\" class=\"blob-code blob-code-inner js-file-line\">            BlackBot.ev.on(&#39;creds.update&#39;, saveCreds);<\/td>\n        <\/tr>\n        <tr>\n          <td id=\"file-gistfile1-txt-L153\" class=\"blob-num js-line-number js-blob-rnum\" data-line-number=\"153\"><\/td>\n          <td id=\"file-gistfile1-txt-LC153\" class=\"blob-code blob-code-inner js-file-line\">        } catch (err) {<\/td>\n        <\/tr>\n        <tr>\n          <td id=\"file-gistfile1-txt-L154\" class=\"blob-num js-line-number js-blob-rnum\" data-line-number=\"154\"><\/td>\n          <td id=\"file-gistfile1-txt-LC154\" class=\"blob-code blob-code-inner js-file-line\">            console.error(&#39;Error initializing session:&#39;, err);<\/td>\n        <\/tr>\n        <tr>\n          <td id=\"file-gistfile1-txt-L155\" class=\"blob-num js-line-number js-blob-rnum\" data-line-number=\"155\"><\/td>\n          <td id=\"file-gistfile1-txt-LC155\" class=\"blob-code blob-code-inner js-file-line\">            if (!res.headersSent) {<\/td>\n        <\/tr>\n        <tr>\n          <td id=\"file-gistfile1-txt-L156\" class=\"blob-num js-line-number js-blob-rnum\" data-line-number=\"156\"><\/td>\n          <td id=\"file-gistfile1-txt-LC156\" class=\"blob-code blob-code-inner js-file-line\">                res.status(503).send({ code: &#39;Service Unavailable&#39; });<\/td>\n        <\/tr>\n        <tr>\n          <td id=\"file-gistfile1-txt-L157\" class=\"blob-num js-line-number js-blob-rnum\" data-line-number=\"157\"><\/td>\n          <td id=\"file-gistfile1-txt-LC157\" class=\"blob-code blob-code-inner js-file-line\">            }<\/td>\n        <\/tr>\n        <tr>\n          <td id=\"file-gistfile1-txt-L158\" class=\"blob-num js-line-number js-blob-rnum\" data-line-number=\"158\"><\/td>\n          <td id=\"file-gistfile1-txt-LC158\" class=\"blob-code blob-code-inner js-file-line\">        }<\/td>\n        <\/tr>\n        <tr>\n          <td id=\"file-gistfile1-txt-L159\" class=\"blob-num js-line-number js-blob-rnum\" data-line-number=\"159\"><\/td>\n          <td id=\"file-gistfile1-txt-LC159\" class=\"blob-code blob-code-inner js-file-line\">    }<\/td>\n        <\/tr>\n        <tr>\n          <td id=\"file-gistfile1-txt-L160\" class=\"blob-num js-line-number js-blob-rnum\" data-line-number=\"160\"><\/td>\n          <td id=\"file-gistfile1-txt-LC160\" class=\"blob-code blob-code-inner js-file-line\">\n<\/td>\n        <\/tr>\n        <tr>\n          <td id=\"file-gistfile1-txt-L161\" class=\"blob-num js-line-number js-blob-rnum\" data-line-number=\"161\"><\/td>\n          <td id=\"file-gistfile1-txt-LC161\" class=\"blob-code blob-code-inner js-file-line\">    await initiateSession();<\/td>\n        <\/tr>\n        <tr>\n          <td id=\"file-gistfile1-txt-L162\" class=\"blob-num js-line-number js-blob-rnum\" data-line-number=\"162\"><\/td>\n          <td id=\"file-gistfile1-txt-LC162\" class=\"blob-code blob-code-inner js-file-line\">});<\/td>\n        <\/tr>\n        <tr>\n          <td id=\"file-gistfile1-txt-L163\" class=\"blob-num js-line-number js-blob-rnum\" data-line-number=\"163\"><\/td>\n          <td id=\"file-gistfile1-txt-LC163\" class=\"blob-code blob-code-inner js-file-line\">\n<\/td>\n        <\/tr>\n        <tr>\n          <td id=\"file-gistfile1-txt-L164\" class=\"blob-num js-line-number js-blob-rnum\" data-line-number=\"164\"><\/td>\n          <td id=\"file-gistfile1-txt-LC164\" class=\"blob-code blob-code-inner js-file-line\">// Global uncaught exception handler<\/td>\n        <\/tr>\n        <tr>\n          <td id=\"file-gistfile1-txt-L165\" class=\"blob-num js-line-number js-blob-rnum\" data-line-number=\"165\"><\/td>\n          <td id=\"file-gistfile1-txt-LC165\" class=\"blob-code blob-code-inner js-file-line\">process.on(&#39;uncaughtException&#39;, (err) =&gt; {<\/td>\n        <\/tr>\n        <tr>\n          <td id=\"file-gistfile1-txt-L166\" class=\"blob-num js-line-number js-blob-rnum\" data-line-number=\"166\"><\/td>\n          <td id=\"file-gistfile1-txt-LC166\" class=\"blob-code blob-code-inner js-file-line\">    let e = String(err);<\/td>\n        <\/tr>\n        <tr>\n          <td id=\"file-gistfile1-txt-L167\" class=\"blob-num js-line-number js-blob-rnum\" data-line-number=\"167\"><\/td>\n          <td id=\"file-gistfile1-txt-LC167\" class=\"blob-code blob-code-inner js-file-line\">    if (e.includes(&quot;conflict&quot;)) return;<\/td>\n        <\/tr>\n        <tr>\n          <td id=\"file-gistfile1-txt-L168\" class=\"blob-num js-line-number js-blob-rnum\" data-line-number=\"168\"><\/td>\n          <td id=\"file-gistfile1-txt-LC168\" class=\"blob-code blob-code-inner js-file-line\">    if (e.includes(&quot;not-authorized&quot;)) return;<\/td>\n        <\/tr>\n        <tr>\n          <td id=\"file-gistfile1-txt-L169\" class=\"blob-num js-line-number js-blob-rnum\" data-line-number=\"169\"><\/td>\n          <td id=\"file-gistfile1-txt-LC169\" class=\"blob-code blob-code-inner js-file-line\">    if (e.includes(&quot;Socket connection timeout&quot;)) return;<\/td>\n        <\/tr>\n        <tr>\n          <td id=\"file-gistfile1-txt-L170\" class=\"blob-num js-line-number js-blob-rnum\" data-line-number=\"170\"><\/td>\n          <td id=\"file-gistfile1-txt-LC170\" class=\"blob-code blob-code-inner js-file-line\">    if (e.includes(&quot;rate-overlimit&quot;)) return;<\/td>\n        <\/tr>\n        <tr>\n          <td id=\"file-gistfile1-txt-L171\" class=\"blob-num js-line-number js-blob-rnum\" data-line-number=\"171\"><\/td>\n          <td id=\"file-gistfile1-txt-LC171\" class=\"blob-code blob-code-inner js-file-line\">    if (e.includes(&quot;Connection Closed&quot;)) return;<\/td>\n        <\/tr>\n        <tr>\n          <td id=\"file-gistfile1-txt-L172\" class=\"blob-num js-line-number js-blob-rnum\" data-line-number=\"172\"><\/td>\n          <td id=\"file-gistfile1-txt-LC172\" class=\"blob-code blob-code-inner js-file-line\">    if (e.includes(&quot;Timed Out&quot;)) return;<\/td>\n        <\/tr>\n        <tr>\n          <td id=\"file-gistfile1-txt-L173\" class=\"blob-num js-line-number js-blob-rnum\" data-line-number=\"173\"><\/td>\n          <td id=\"file-gistfile1-txt-LC173\" class=\"blob-code blob-code-inner js-file-line\">    if (e.includes(&quot;Value not found&quot;)) return;<\/td>\n        <\/tr>\n        <tr>\n          <td id=\"file-gistfile1-txt-L174\" class=\"blob-num js-line-number js-blob-rnum\" data-line-number=\"174\"><\/td>\n          <td id=\"file-gistfile1-txt-LC174\" class=\"blob-code blob-code-inner js-file-line\">    if (e.includes(&quot;Stream Errored&quot;)) return;<\/td>\n        <\/tr>\n        <tr>\n          <td id=\"file-gistfile1-txt-L175\" class=\"blob-num js-line-number js-blob-rnum\" data-line-number=\"175\"><\/td>\n          <td id=\"file-gistfile1-txt-LC175\" class=\"blob-code blob-code-inner js-file-line\">    if (e.includes(&quot;Stream Errored (restart required)&quot;)) return;<\/td>\n        <\/tr>\n        <tr>\n          <td id=\"file-gistfile1-txt-L176\" class=\"blob-num js-line-number js-blob-rnum\" data-line-number=\"176\"><\/td>\n          <td id=\"file-gistfile1-txt-LC176\" class=\"blob-code blob-code-inner js-file-line\">    if (e.includes(&quot;statusCode: 515&quot;)) return;<\/td>\n        <\/tr>\n        <tr>\n          <td id=\"file-gistfile1-txt-L177\" class=\"blob-num js-line-number js-blob-rnum\" data-line-number=\"177\"><\/td>\n          <td id=\"file-gistfile1-txt-LC177\" class=\"blob-code blob-code-inner js-file-line\">    if (e.includes(&quot;statusCode: 503&quot;)) return;<\/td>\n        <\/tr>\n        <tr>\n          <td id=\"file-gistfile1-txt-L178\" class=\"blob-num js-line-number js-blob-rnum\" data-line-number=\"178\"><\/td>\n          <td id=\"file-gistfile1-txt-LC178\" class=\"blob-code blob-code-inner js-file-line\">    console.log(&#39;Caught exception: &#39;, err);<\/td>\n        <\/tr>\n        <tr>\n          <td id=\"file-gistfile1-txt-L179\" class=\"blob-num js-line-number js-blob-rnum\" data-line-number=\"179\"><\/td>\n          <td id=\"file-gistfile1-txt-LC179\" class=\"blob-code blob-code-inner js-file-line\">});<\/td>\n        <\/tr>\n        <tr>\n          <td id=\"file-gistfile1-txt-L180\" class=\"blob-num js-line-number js-blob-rnum\" data-line-number=\"180\"><\/td>\n          <td id=\"file-gistfile1-txt-LC180\" class=\"blob-code blob-code-inner js-file-line\">\n<\/td>\n        <\/tr>\n        <tr>\n          <td id=\"file-gistfile1-txt-L181\" class=\"blob-num js-line-number js-blob-rnum\" data-line-number=\"181\"><\/td>\n          <td id=\"file-gistfile1-txt-LC181\" class=\"blob-code blob-code-inner js-file-line\">export default router;<\/td>\n        <\/tr>\n  <\/table>\n<\/div>\n\n\n    <\/div>\n\n  <\/div>\n<\/div>\n\n      <\/div>\n      <div class=\"gist-meta\">\n        <a href=\"https://gist.github.com/dark-lover-opz/3c10bb27773cd055baf7acbcb530588d/raw/cd94107c07028cc453a1f5d008b252c329669af7/gistfile1.txt\" style=\"float:right\" class=\"Link--inTextBlock\">view raw<\/a>\n        <a href=\"https://gist.github.com/dark-lover-opz/3c10bb27773cd055baf7acbcb530588d#file-gistfile1-txt\" class=\"Link--inTextBlock\">\n          gistfile1.txt\n        <\/a>\n        hosted with &#10084; by <a class=\"Link--inTextBlock\" href=\"https://github.com\">GitHub<\/a>\n      <\/div>\n    <\/div>\n<\/div>\n')
